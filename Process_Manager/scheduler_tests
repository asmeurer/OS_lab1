# Start with the group scheduler
INIT GROUP
# Test that groups not in the range 0-3 don't work
CREATE 33 11 17 15 13 6
# SET_PRIORITY should not work
SET_PRIORITY 0 3
# Create processes in each group
CREATE 33 11 17 15 13 0
CREATE 33 11 17 15 13 1
CREATE 35 11 12 9 1 2
CREATE 12 2 10 19 3 3
CREATE 33 11 17 15 13 0
CREATE 33 11 17 15 13 1
CREATE 35 11 12 9 1 2
CREATE 12 2 10 19 3 3
# Test that everything goes where it needs to
LIST READY
# Test that they correctly round robin, both within the groups and among the
# groups
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
# Test that unwait goes back to the correct group
WAIT
UNWAIT 7
LIST READY
# Do it for all four groups
GO
GO
GO
GO
GO
LIST RUNNING
WAIT
UNWAIT 8
LIST READY
GO
GO
GO
GO
GO
LIST RUNNING
WAIT
UNWAIT 1
LIST READY
GO
GO
GO
GO
GO
LIST RUNNING
WAIT
UNWAIT 2
LIST READY
# Test that that it skips over empty groups
GO
EOLIFE
GO
EOLIFE
LIST READY
# Now group 1 is empty
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
# Keep terminating and testing this
EOLIFE
GO
EOLIFE
LIST READY
# This killed off group 3
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
EOLIFE
GO
EOLIFE
LIST READY
# This killed off group 0
# More than five go's should remain in group 2
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
# As soon as we create a new process in another group
# It should start switching to the next group again
CREATE 1 2 3 4 5 0
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
GO
LIST RUNNING
# Test LIST SCHED
LIST READY
LIST SCHED
# Now clear everything
EOLIFE
GO
EOLIFE
GO
EOLIFE
# Test that it doesn't die on a go when there are no ready processes
GO
LIST ALL
# Test the EMPTY_TERM command
EMPTY_TERM
LIST TERMINATED
# Try out the priority scheduler
INIT PRIORITY
# Test that the default priority is 5
CREATE 33 11 17 15 13
LIST READY
GO
LIST RUNNING
GO
LIST RUNNING
# Test that process reduce in priority as they are run
CREATE 23 42 23 23 12
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
GO
LIST RUNNING
LIST READY
# Test that waiting increases priority
# Also test that aging works Note that this takes longer than it would in a
# real-life situation to run the non-interactive processes again because the
# interactive process always unwaits immediately after it waits.  But even so,
# it still should age eventually.
CREATE 1 2 3 4 5
WAIT
UNWAIT 0
GO
LIST ALL
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
WAIT
UNWAIT 2
GO
LIST RUNNING
LIST READY
# Test the SET_PRIORITY command
CREATE 1 32 43 4 5
# Invalid priority
SET_PRIORITY 3 -1
SET_PRIORITY 3 11
# Value priority
SET_PRIORITY 3 3
LIST READY
# Invalid PID
SET_PRIORITY 10 3
